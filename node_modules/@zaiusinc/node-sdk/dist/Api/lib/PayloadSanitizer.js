"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.PayloadSanitizer = void 0;
/**
 * @hidden
 */
const DEFAULT_PAYLOAD_OPTIONS = {
    trimToNull: true,
    excludeNulls: true
};
/**
 * @hidden
 */
class PayloadSanitizer {
    /**
     * Inline update of the payload based on the provided/default options
     *
     * @param payload to sanitize
     * @param opts for processing default {trimToNull & excludeNulls}
     */
    static sanitize(payload, opts = {}) {
        opts = { ...DEFAULT_PAYLOAD_OPTIONS, ...opts };
        Object.entries(payload).forEach(([key, value]) => {
            if (typeof value === 'string') {
                if (opts.trimToNull) {
                    value = value.trim();
                    payload[key] = value.length === 0 ? null : value;
                }
            }
            if (opts.excludeNulls && payload[key] == null) {
                delete payload[key];
            }
        });
    }
}
exports.PayloadSanitizer = PayloadSanitizer;
//# sourceMappingURL=PayloadSanitizer.js.map