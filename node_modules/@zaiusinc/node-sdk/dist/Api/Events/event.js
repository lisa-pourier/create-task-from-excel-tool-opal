"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.event = event;
const ApiV3_1 = require("../lib/ApiV3");
/**
 * Send an event or a batch of events to ODP
 *
 * @param apiV3 the v3 API instance to use
 * @param payload an ODP event payload or an array of event payloads
 * @returns the response from the API if successful
 * @throws {HttpError} if it receives a non-2XX result or if the batch size is > BATCH_LIMIT
 */
function event(apiV3, payload) {
    if (Array.isArray(payload) && payload.length > ApiV3_1.ApiV3.BATCH_LIMIT) {
        return Promise.reject(apiV3.errorForCode(ApiV3_1.ApiV3.ErrorCode.BatchLimitExceeded));
    }
    return apiV3.post('/events', payload);
}
//# sourceMappingURL=event.js.map